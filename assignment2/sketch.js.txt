// ì „ë°˜ì ì¸ ìŠ¤íƒ€ì¼ê³¼ ìƒ‰ìƒì„ ë¯¸ë¦¬ ì •ì˜í•©ë‹ˆë‹¤.
const PALETTE = {
  skin: '#F7D4B6',
  hair: '#5C3A21',
  lips: '#E54F6D',
  white: '#FFFFFF',
  black: '#000000',
  blush: 'rgba(229, 79, 109, 0.2)',
  hat: '#C75D5D',
  hatBand: '#D4AC87',
  sky: '#87CEEB', // ë§‘ì€ í•˜ëŠ˜ìƒ‰
  cloud: '#FFFFFF', // êµ¬ë¦„ìƒ‰
  sea: '#66DDAA', // ì—ë©”ë„ë“œë¹› ë°”ë‹¤ìƒ‰
  field: '#FFDD00', // ìœ ì±„ê½ƒë°­ ì—°ìƒ ë…¸ë€ìƒ‰
  ground: '#90EE90', // í’€ë°­ ì—°ìƒ ì—°ë‘ìƒ‰
};

// ê·¸ë¦¼ì˜ ì¤‘ì‹¬ ì¢Œí‘œë¥¼ ë³€ìˆ˜ë¡œ ì„¤ì •í•˜ì—¬ ìœ„ì¹˜ ì¡°ì •ì„ ì‰½ê²Œ í•©ë‹ˆë‹¤.
const centerX = 175; // ìº”ë²„ìŠ¤ í¬ê¸° 350ì— ë§ì¶° ì¤‘ì‹¬ì„ 175ë¡œ ìˆ˜ì •
const centerY = 160; // ìº”ë²„ìŠ¤ í¬ê¸° 350ì— ë§ì¶° ì¤‘ì‹¬ì„ ì¡°ì • (ì›ë˜ 220ì´ì—ˆìŒ)

function setup() {
  createCanvas(350, 350);
  angleMode(DEGREES);
  noLoop();
}

function draw() {
  // ë°°ê²½ ê·¸ë¦¬ê¸° (ë§¨ ë’¤ì— ìœ„ì¹˜)
  drawBackground();

  // ìºë¦¬ì»¤ì²˜ ê·¸ë¦¬ê¸° (ë°°ê²½ ìœ„ì— ìœ„ì¹˜)
  drawHair_Back();
  drawShoulder();
  drawHat_Back();
  drawFace();
  drawHat_Top();
  drawEyes();
  drawNose();
  drawMouth();
  drawHat_Front();
}

// ì œì£¼ë„ ë°°ê²½ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawBackground() {
  noStroke();

  // í•˜ëŠ˜
  fill(PALETTE.sky);
  rect(0, 0, width, height / 2 + 50);

  // êµ¬ë¦„ (ìº”ë²„ìŠ¤ í¬ê¸°ì— ë§ê²Œ X ì¢Œí‘œ ìˆ˜ì •)
  fill(PALETTE.cloud);
  ellipse(100, 80, 100, 60);
  ellipse(150, 70, 120, 70);
  ellipse(300, 100, 150, 80); // ğŸš¨ Xì¢Œí‘œ 500 -> 300ìœ¼ë¡œ ìˆ˜ì •
  ellipse(280, 90, 110, 60); // ğŸš¨ Xì¢Œí‘œ 430 -> 280ìœ¼ë¡œ ìˆ˜ì •

  // ë°”ë‹¤ (í•˜ëŠ˜ ì•„ë˜)
  fill(PALETTE.sea);
  rect(0, height / 2 + 50, width, height / 4);

  // ìœ¡ì§€/ë“¤íŒ (ê°€ì¥ ì•„ë˜)
  fill(PALETTE.field); // ìœ ì±„ê½ƒë°­ ì—°ìƒ
  rect(0, height * 3 / 4 + 50, width, height / 4 - 50);

  // ìœ¡ì§€/í’€ë°­ (ë…¸ë€ ë“¤íŒ ìœ„)
  fill(PALETTE.ground); // í’€ë°­ ì—°ìƒ
  rect(0, height * 3 / 4, width, 50);
}


// ì–¼êµ´ ìœ¤ê³½ê³¼ ëª©, í™ì¡°ë¥¼ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawFace() {
  noStroke();
  fill(PALETTE.skin);
  rect(centerX - 25, centerY - 20, 50, 80);
  ellipse(centerX, centerY, 180, 220);
  fill(PALETTE.blush);
  ellipse(centerX - 50, centerY + 40, 50, 30);
  ellipse(centerX + 50, centerY + 40, 50, 30);
}

// ëˆˆê³¼ ëˆˆì¹ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawEyes() {
  const eyeY = centerY + 10;

  // ì™¼ìª½ ëˆˆ
  const eyeLX = centerX - 40;
  fill(PALETTE.white);
  stroke(PALETTE.black);
  strokeWeight(2);
  arc(eyeLX, eyeY, 50, 35, 180, 360, CHORD);
  fill(PALETTE.black);
  noStroke();
  ellipse(eyeLX, eyeY + 4, 18, 18);
  fill(PALETTE.white);
  ellipse(eyeLX - 3, eyeY + 1, 5, 5);
  noFill();
  stroke(PALETTE.hair);
  strokeWeight(4);
  arc(eyeLX, eyeY - 25, 40, 20, 180, 360);

  // ì˜¤ë¥¸ìª½ ëˆˆ
  const eyeRX = centerX + 40;
  fill(PALETTE.white);
  stroke(PALETTE.black);
  strokeWeight(2);
  arc(eyeRX, eyeY, 50, 35, 180, 360, CHORD);
  fill(PALETTE.black);
  noStroke();
  ellipse(eyeRX, eyeY + 4, 18, 18);
  fill(PALETTE.white);
  ellipse(eyeRX + 3, eyeY + 1, 5, 5);
  noFill();
  stroke(PALETTE.hair);
  strokeWeight(4);
  arc(eyeRX, eyeY - 25, 40, 20, 180, 360);
}

// ì½”ë¥¼ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawNose() {
  stroke(PALETTE.black);
  strokeWeight(1.5);
  const noseY = centerY + 30;
  line(centerX, noseY, centerX - 5, noseY + 20);
  line(centerX - 5, noseY + 20, centerX + 5, noseY + 20);
}

// ì…ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawMouth() {
  const mouthY = centerY + 70;
  fill(PALETTE.lips);
  noStroke();
  arc(centerX - 15, mouthY, 30, 20, 180, 360);
  arc(centerX + 15, mouthY, 30, 20, 180, 360);
  stroke(PALETTE.black);
  strokeWeight(2);
  arc(centerX, mouthY + 2, 60, 40, 0, 180, CHORD);
  fill(PALETTE.white);
  noStroke();
  arc(centerX, mouthY + 2, 56, 25, 0, 180);
}

// ê¸´ ìƒë¨¸ë¦¬ë¥¼ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawHair_Back() {
  fill(PALETTE.hair);
  noStroke();
  let hairWidth = 110;
  let hairHeight = 350;
  let hairStartY = centerY - 100;
  rect(centerX - 120, hairStartY, hairWidth, hairHeight, 0, 0, 20, 20);
  rect(centerX + 10, hairStartY, hairWidth, hairHeight, 0, 0, 20, 20);
}

// ëª¨ì ìœ—ë¶€ë¶„(í¬ë¼ìš´)ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawHat_Top() {
  const hatY = centerY - 120;
  noStroke();
  fill(PALETTE.hat);
  ellipse(centerX, hatY, 170, 140);
  fill(PALETTE.hatBand);
  rect(centerX - 95, hatY, 190, 25, 10);
}

// ëª¨ì ì±™ì˜ ë’·ë¶€ë¶„ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawHat_Back() {
  const hatY = centerY - 110;
  noStroke();
  fill(PALETTE.hat);
  // ğŸš¨ ìº”ë²„ìŠ¤ í¬ê¸°ì— ë§ê²Œ 350ìœ¼ë¡œ ì´ë¯¸ ìˆ˜ì •ë˜ì–´ ìˆì–´ ê´œì°®ìŠµë‹ˆë‹¤.
  arc(centerX, hatY, 350, 180, 150, 390);
}

// ëª¨ì ì±™ì˜ ì•ë¶€ë¶„ì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawHat_Front() {
  const hatY = centerY - 100;
  noStroke();
  fill(PALETTE.hat);
  // ğŸš¨ ìº”ë²„ìŠ¤ í¬ê¸°ì— ë§ê²Œ 350ìœ¼ë¡œ ì´ë¯¸ ìˆ˜ì •ë˜ì–´ ìˆì–´ ê´œì°®ìŠµë‹ˆë‹¤.
  arc(centerX, hatY, 350, 150, 0, 180);
}

// ì–´ê¹¨ì™€ ëª¸í†µì„ ê·¸ë¦¬ëŠ” í•¨ìˆ˜
function drawShoulder() {
  const shoulderY = centerY + 180;
  const shoulderSize = 260;
  const shoulderOffset = 130;

  fill(PALETTE.white);

  // 1. ì–´ê¹¨ ê³¡ì„ ì„ ë¨¼ì € ê·¸ë¦½ë‹ˆë‹¤.
  stroke('#DDDDDD');
  strokeWeight(3);
  // ğŸš¨ ìº”ë²„ìŠ¤ í¬ê¸°ì— ë§ê²Œ X ì¢Œí‘œ ìˆ˜ì • (ì›ë˜ 300ì´ì—ˆë˜ centerXë¥¼ 175ë¡œ ìˆ˜ì •í–ˆìœ¼ë¯€ë¡œ)
  // ì´ì „ ì½”ë“œ: arc(centerX - shoulderOffset, shoulderY, shoulderSize, shoulderSize, 180, 360);
  // ì´ì „ ì½”ë“œ: arc(centerX + shoulderOffset, shoulderY, shoulderSize, shoulderSize, 180, 360);
  
  // centerXë¥¼ 175ë¡œ ì´ë¯¸ ìˆ˜ì •í–ˆìœ¼ë¯€ë¡œ, ì´ ë¶€ë¶„ì€ ë¬¸ì œ ì—†ì´ ì‘ë™í•©ë‹ˆë‹¤.
  arc(centerX - shoulderOffset, shoulderY, shoulderSize, shoulderSize, 180, 360);
  arc(centerX + shoulderOffset, shoulderY, shoulderSize, shoulderSize, 180, 360);

  // 2. ê·¸ ìœ„ë¡œ ëª¸í†µ ì‚¬ê°í˜•ì„ ê²¹ì³ ê·¸ë ¤ ìì—°ìŠ¤ëŸ¬ìš´ ì˜· í˜•íƒœë¥¼ ë§Œë“­ë‹ˆë‹¤.
  noStroke();
  rect(centerX - shoulderOffset, shoulderY - 20, shoulderOffset * 2, 150);
}